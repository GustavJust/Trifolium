---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/hero.astro";
import ImageContainerFacility from "../components/Image_container_facilities.astro";
---

<Layout>
  <Hero
    video="/assets/imgs/video/platform_office_video.mp4"
    title="Facilities"
    description="Trifolium offers modern, flexible facilities designed to support collaboration, innovation, and community across all activities and events."
    descLeft="Woodspace"
    descRight="1st Floor"
    poster="/assets/imgs/lazyload/facilities_lazyload.webp"
  />

  <section>
    <h2>Explore our facilities</h2>
    <nav class="hor_card">
      <a href="/offices"
        ><p>Offices</p><img src="/assets/imgs/arrow_icon_red.svg" alt="" /></a
      >
      <a href="/workshops"
        ><p>Workshops</p><img src="/assets/imgs/arrow_icon_red.svg" alt="" /></a
      >
      <a href="/photostudio"
        ><p>Photo-studio</p><img
          src="/assets/imgs/arrow_icon_red.svg"
          alt=""
        /></a
      >
      <a href="/venues"
        ><p>Venues</p><img src="/assets/imgs/arrow_icon_red.svg" alt="" /></a
      >
    </nav>
  </section>

  <section>
    <h2>
      A professional production village for designers, developers, and builders.
    </h2>
    <p>
      With workspaces, advanced tools, and workshops under one roof, you can
      create physical or digital products from concept to launch.
    </p>

    <div class="map_container">
      <div class="floor_select">
        <p>Floor</p>
        <button class="floor_btn" data-floor="0">1</button>
        <button class="floor_btn" data-floor="1">2</button>
        <button class="floor_btn" data-floor="2">3</button>
      </div>

      <div class="map_frame" id="mapFrame">
        <div class="floor_wrapper">
          <img
            src="/assets/imgs/floor_one_map.svg"
            alt="Floor 1"
            class="floor_img"
          />
          <button class="map_area_btn wood" data-section="0">Wood</button>
          <button class="map_area_btn metal" data-section="0">Metal</button>
        </div>
        <div class="floor_wrapper">
          <img
            src="/assets/imgs/floor_two_map.svg"
            alt="Floor 2"
            class="floor_img"
          />
        </div>
        <div class="floor_wrapper">
          <img
            src="/assets/imgs/floor_three_map.svg"
            alt="Floor 3"
            class="floor_img"
          />
        </div>
      </div>

      <div class="explanation">
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Wood workshop</h4>
            <img src="/assets/imgs/wrk_wood1.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>wood workshop</p>
              <p>1st floor</p>
            </div>
            <div class="card_desc">
              <p>
                Our wood workshop is one of the central hubs of Trifolium. It’s
                set up to support everything from precision joinery and
                furniture to fast prototyping and custom installations.
              </p>
              <a href="/workshops#wood">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/wrk_wood2.webp" alt="" />
                  <img src="/assets/imgs/wrk_wood3.webp" alt="" />
                  <img src="/assets/imgs/wrk_wood4.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Metal workshop</h4>
            <img src="/assets/imgs/wrk_metal1.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>metal workshop</p>
              <p>1st floor</p>
            </div>
            <div class="card_desc">
              <p>
                The metal workshop is where structure, function, and fire come
                together. This space supports welding, cutting, bending, and
                light-to-medium fabrication work across various metals.
              </p>
              <a href="/workshops#metal">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/wrk_metal2.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal3.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal4.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Storage</h4>
            <img src="/assets/imgs/wrk_storage.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>Storage floor</p>
              <p>1st floor</p>
            </div>
            <div class="card_desc">
              <p>
                Need space to store your materials or ongoing work? We offer
                shelf storage and floor space at monthly rates, priced by the
                square meter. Whether you need a small spot or a bigger
                footprint, you can keep your tools and projects close by and
                ready to go.
              </p>
              <a href="/workshops#storage">Read more</a>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Blue area</h4>
            <img src="/assets/imgs/offices_flex5.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>Blue area</p>
              <p>1st floor</p>
            </div>
            <div class="card_desc">
              <p>
                The central common space for Trifolium. This is where we gather
                for lunch, social activities, members meetings, Coffee and so
                on. It also contains flex desks and spaces for all members to
                use regardless of membership. Here you will find the canteena,
                meeting rooms, kitchenette, games, and hangout spots.
              </p>
              <a href="/workshops#wood">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img
                    src="/assets/imgs/lazyload/membership_lazyload.webp"
                    alt=""
                  />
                  <img src="/assets/imgs/index_bluearea.webp" alt="" />
                  <img
                    src="/assets/imgs/lazyload_members_lazyload.webp"
                    alt=""
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Meeting rooms</h4>
            <img src="/assets/imgs/wrk_metal1.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>metal workshop</p>
              <p>1st floor</p>
            </div>
            <div class="card_desc">
              <p>
                The metal workshop is where structure, function, and fire come
                together. This space supports welding, cutting, bending, and
                light-to-medium fabrication work across various metals.
              </p>
              <a href="/workshops#wood">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/wrk_metal2.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal3.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal4.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Venues</h4>
            <img src="/assets/imgs/lazyload/venues_lazyload.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>metal workshop</p>
              <p>1st floor</p>
            </div>
            <div class="card_desc">
              <p>
                The metal workshop is where structure, function, and fire come
                together. This space supports welding, cutting, bending, and
                light-to-medium fabrication work across various metals.
              </p>
              <a href="/workshops#wood">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/wrk_metal2.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal3.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal4.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Model Workshop</h4>
            <img src="/assets/imgs/wrk_model1.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>model workshop workshop</p>
              <p>Mezzanine</p>
            </div>
            <div class="card_desc">
              <p>
                The model workshop is where ideas get tested, scaled, and shaped
                by hand. It’s set up for architectural models, material mockups,
                detailed prototypes, or anything in between.
                <br /><br />
                This is a quieter, more controlled space for professionals who work
                at smaller scales or need a clean environment for delicate processes.
                <br /><br />
                Architects, product designers, and concept developers use this workshop
                to bridge the gap between screen and object. It’s a space made for
                focus, detail, and experimentation.
              </p>
              <a href="/workshops#wood">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/wrk_model2.webp" alt="" />
                  <img src="/assets/imgs/wrk_model3.webp" alt="" />
                  <img src="/assets/imgs/wrk_model4.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Alu Kitchen</h4>
            <img src="/assets/imgs/lazyload/venues_lazyload.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>Alu kitchen</p>
              <p>mezzanine</p>
            </div>
            <div class="card_desc">
              <p>...</p>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/wrk_metal2.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal3.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal4.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Office Hallway</h4>
            <img src="/assets/imgs/offices_intro.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>Office hallway</p>
              <p>2nd floor</p>
            </div>
            <div class="card_desc">
              <p>
                Our private office spaces are ideal for teams who need a
                quieter, more contained setting. These rooms accommodate 4 to 6
                people and are located in a calm hallway separate from the open
                studio area. They offer a professional, low-distraction
                environment with the benefits of being part of a larger,
                creative workspace just outside the door. Perfect for companies
                who value privacy but still want access to a wider community and
                shared resources.
              </p>
              <a href="/offices#closed">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/offices_closed1.webp" alt="" />
                  <img src="/assets/imgs/offices_closed2.webp" alt="" />
                  <img src="/assets/imgs/offices_closed3.webp" alt="" />
                  <img src="/assets/imgs/offices_closed4.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Grey Hall</h4>
            <img src="/assets/imgs/lazyload/venues_lazyload.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>Grey hall</p>
              <p>2nd floor</p>
            </div>
            <div class="card_desc">
              <p>
                The metal workshop is where structure, function, and fire come
                together. This space supports welding, cutting, bending, and
                light-to-medium fabrication work across various metals.
              </p>
              <a href="/workshops#wood">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/wrk_metal2.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal3.webp" alt="" />
                  <img src="/assets/imgs/wrk_metal4.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="explanation-section" data-section="0">
          <div class="thumbnail">
            <h4>Photo-Studio</h4>
            <img src="/assets/imgs/lazyload/photostudio_lazyload.webp" alt="" />
          </div>
          <div class="card_contents">
            <div class="caption">
              <p>Photo-studio</p>
              <p>2nd floor</p>
            </div>
            <div class="card_desc">
              <p>
                Trifolium offers modern, flexible facilities designed to support
                collaboration, innovation, and community across all activities
                and events.
              </p>
              <a href="/photostudio">Read more</a>
              <div class="image_scroll_facilities">
                <div class="image_container">
                  <img src="/assets/imgs/photostudio_backview.webp" alt="" />
                  <img src="/assets/imgs/photostudio_intro.webp" alt="" />
                  <img src="/assets/imgs/photostudio_kitchen.webp" alt="" />
                  <img src="/assets/imgs/photostudio_lounge.webp" alt="" />
                  <img src="/assets/imgs/photostudio_makeup.webp" alt="" />
                  <img src="/assets/imgs/photostudio_outside.webp" alt="" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="bottom_cta">
    <p>
      With workspaces, advanced tools, and workshops under one roof, you can
      create physical or digital products from concept to launch.
    </p>
    <a href="/contact">
      <button class="large">Get a tour</button>
    </a>
  </section>

  <script is:inline>
    window.addEventListener("DOMContentLoaded", () => {
      // Floor switching logic
      const floorButtons = document.querySelectorAll(".floor_btn");
      const floorWrappers = document.querySelectorAll(".floor_wrapper");

      function setActiveFloor(index) {
        floorWrappers.forEach((wrapper, i) => {
          wrapper.style.display = i === index ? "block" : "none";
        });
      }

      floorButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const index = parseInt(btn.getAttribute("data-floor"), 10);
          if (!isNaN(index)) setActiveFloor(index);
        });
      });

      // Set initial floor to 0
      setActiveFloor(0);

      // Explanation section toggle logic
      const sectionButtons = document.querySelectorAll(".map_area_btn");
      const sections = document.querySelectorAll(".explanation-section");

      function showSection(sectionId) {
        sections.forEach((section) => {
          section.style.display =
            section.dataset.section === sectionId ? "block" : "none";
        });
      }

      sectionButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const sectionId = btn.dataset.section;
          if (sectionId) showSection(sectionId);
        });
      });

      // Set default section visible
      showSection("0");
    });
  </script>

  <style>
    section:not(.hero) {
      margin-left: var(--spacing-small);
      margin-right: var(--spacing-small);
    }
    .map_container {
      margin-top: var(--spacing-medium);
    }
    .floor_select {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: var(--spacing-small);
      margin-bottom: var(--spacing-small);
    }
    .floor_btn {
      background-color: var(--color-white-100);
      border: 1px solid var(--primary-color-500);
      border-radius: 999px;
      width: 40px;
      height: 40px;
      font-weight: 700;
      font-size: 1.5em;
      cursor: pointer;
      z-index: 999;
    }
    .floor_btn:hover {
      background-color: var(--primary-color-300);
    }
    .floor_btn:active {
      background-color: var(--primary-color-500);
      color: white;
    }
    .map_frame {
      width: 100%;
      display: grid;
      grid-template-columns: 1fr;
      position: relative;
    }
    .floor_wrapper {
      position: relative;
      display: none;
    }
    .floor_img {
      width: 100%;
      display: block;
      transform: scale(1.2);
    }
    .map_area_btn {
      position: absolute;
      z-index: 10;
      font-size: 1rem;
      border: 1px solid var(--primary-color-500);
      background: var(--color-white-100);
      cursor: pointer;
    }
    .map_area_btn.wood {
      width: 15%;
      top: 14.3%;
      left: 20.7%;
    }
    .map_area_btn.metal {
      padding: 1.05em 0.1em;
      top: 27.7%;
      left: 20.7%;
    }
    .map_area_btn:hover {
      background-color: var(--secondary-color-500);
    }
    .explanation {
      margin-top: var(--spacing-medium);
    }
    .explanation-section.hidden {
      display: none;
    }
    .thumbnail {
      width: 100%;
    }
    .thumbnail img {
      width: 100%;
      height: auto;
    }
    .caption {
      display: flex;
      justify-content: space-between;
      text-transform: uppercase;
      margin-top: var(--spacing-tiny);
    }
    .caption p {
      margin: 0;
    }
    .card_desc a {
      text-decoration: underline;
    }
    .hor_card {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-tiny);
    }
    .hor_card > a {
      display: flex;
      justify-content: space-between;
      border: 1px solid var(--primary-color-500);
      font-weight: 700;
      font-size: 1.5em;
      padding: var(--spacing-tiny);
    }
    .hor_card a p,
    .hor_card a img {
      margin: 0;
    }
    .hor_card > a:hover {
      background-color: var(--primary-color-200);
    }
    .hor_card > a:active {
      background-color: var(--primary-color-500);
      color: white;
    }
    .hor_card > a img {
      transition: 0.05s ease-in;
    }
    .hor_card > a:hover img {
      rotate: 45deg;
    }
  </style>
</Layout>
